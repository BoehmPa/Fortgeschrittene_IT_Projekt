<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>WetterÃ¼bersicht</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style_index.css') }}">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
</head>
<body class="{{ weatherdata[0].weather_class if weatherdata else '' }}">
  <div class="container">

    <header class="webseiten-header">
      <h1>ğŸŒ¤ï¸ Wetter in deiner Stadt</h1>
      <p>Bis zu 3 StÃ¤dte vergleichen</p>
    </header>

    <div class="controls">
        <form method="POST" class="suchformular">
        <button type="button" onclick="toggleDarkmode()">ğŸŒ— Darkmode</button>
        <input type="text" name="stadt1" placeholder="Stadt 1">
        <input type="text" name="stadt2" placeholder="Stadt 2">
        <input type="text" name="stadt3" placeholder="Stadt 3">
        <button type="submit">ğŸ” Suchen</button>  
        </form>
    </div>

    <div class="wetter-container">
      {% for city in weatherdata %}
        <div class="wetter-box {{ city.weather_class }}">
          <div class="zeitstempel">Stand: {{ city.messzeit }}</div>
          <h3>{{ city.name }}</h3>

          {% if city.error %}
            <p style="color: red;">{{ city.error }}</p>
          {% else %}
            <img src="http://openweathermap.org/img/wn/{{ city.icon }}@2x.png" alt="Wettericon">
            <p><strong>{{ city.weather_ger }}</strong> â€“ {{ city.description }}</p>
            <p>ğŸŒ¡ï¸ Temperatur: {{ city.temp }} Â°C</p>
            <p>ğŸ¤” GefÃ¼hlt wie: {{ city.feels_like }} Â°C</p>
            <p>ğŸ“‰ Min: {{ city.temp_min }} Â°C</p>
            <p>ğŸ“ˆ Max: {{ city.temp_max }} Â°C</p>
            <p>ğŸ’§ Luftfeuchtigkeit: {{ city.humidity }} %</p>
            <p>ğŸŒ… Sonnenaufgang: {{ city.sunrise }}</p>
            <p>ğŸŒ‡ Sonnenuntergang: {{ city.sunset }}</p>
            <p>ğŸ•“ Lokale Uhrzeit: {{ city.local_time }}</p>
          {% endif %}
        </div>
      {% endfor %}
    </div>
  </div>
  <script>
  // Beim Laden prÃ¼fen ob der Browser im local Storage unter dem SchlÃ¼ssel darkmode den Wert True gespeichert hat. Wenn True dann war darkmode beim letzten Mal aktiv
  if (localStorage.getItem("darkmode") === "true") {
    document.body.classList.add("darkmode"); // dem Body wird die CSS Klasse darkmode hinzugefÃ¼gt
  }

  // Button-Klick toggelt Klasse und speichert den Zustand
  function toggleDarkmode() {
    document.body.classList.toggle("darkmode"); // Funktion die beim Klicken auf den Darkmodebutton ausgefÃ¼hrt wird, wenn Klasse darkmode noch nicht vorhanden wird sie hinzugeÃ¼fgt wenn sie vorhanden ist wird sie entfernt
    localStorage.setItem("darkmode", document.body.classList.contains("darkmode")); // Speichern des neuen Zustandes im local Storage
  }
</script>
</body>
<footer class ="footer">
  Â© 2025 â€“ Wetterdaten von OpenWeatherMap â€“ Projekt von Pascal BÃ¶hm
</footer>

</html>
