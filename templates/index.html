<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>WetterÃ¼bersicht</title>

  <!-- Haupt-Stylesheet -->
  <link rel="stylesheet" href="{{ url_for('static', filename='style_index.css') }}">

  <!-- Google-Font fÃ¼r moderne Darstellung -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
</head>

<!-- Setzt Klasse basierend auf Wetter (z.â€¯B. 'clear-day') -->
<body>

  <div class="container">
    
    <!-- Kopfbereich der Seite -->
    <header class="webseiten-header">
      <h1>ğŸŒ¤ï¸ Wetter in deiner Stadt</h1>
      <p>Bis zu 3 StÃ¤dte vergleichen</p>
    </header>

    <!-- Suchformular und Navigationsbuttons -->
    <section class="controls">
      <form method="POST" class="suchformular">
        <button type="button" onclick="toggleDarkmode()">ğŸŒ— Darkmode</button>
        <input type="text" name="stadt1" placeholder="Stadt 1">
        <input type="text" name="stadt2" placeholder="Stadt 2">
        <input type="text" name="stadt3" placeholder="Stadt 3">
        <button type="submit">ğŸ” Suchen</button>  
      </form>

      <!-- Navigation zu weiteren Seiten -->
      <nav class="navi-buttons">
        <a href="/karte" class="button-link">ğŸ—ºï¸ Wetterkarte anzeigen</a>
        <a href="/vorhersage" class="button-link">ğŸ“† Zur Vorhersage</a>
      </nav>
    </section>

    <!-- Wetteranzeige-Bereich fÃ¼r bis zu 3 StÃ¤dte -->
    <main class="wetter-container">
      {% for city in weatherdata %}
        <article class="wetter-box {{ city.weather_class }}">
          
          <!-- Zeitstempel fÃ¼r Messzeit -->
          <div class="zeitstempel">Stand: {{ city.messzeit }}</div>
          <h3>{{ city.name }}</h3>

          {% if city.error %}
            <!-- Fehleranzeige z.â€¯B. bei ungÃ¼ltiger Stadt -->
            <p style="color: red;">{{ city.error }}</p>
          {% else %}
            <!-- Wetterinformationen -->
            <img src="http://openweathermap.org/img/wn/{{ city.icon }}@2x.png" alt="Wettericon">
            <p><strong>{{ city.weather_ger }}</strong> â€“ {{ city.description }}</p>
            <p>ğŸŒ¡ï¸ Temperatur: {{ city.temp }} Â°C</p>
            <p>ğŸ¤” GefÃ¼hlt wie: {{ city.feels_like }} Â°C</p>
            <p>ğŸ“‰ Min: {{ city.temp_min }} Â°C</p>
            <p>ğŸ“ˆ Max: {{ city.temp_max }} Â°C</p>
            <p>ğŸ’§ Luftfeuchtigkeit: {{ city.humidity }} %</p>
            <p>ğŸŒ… Sonnenaufgang: {{ city.sunrise }}</p>
            <p>ğŸŒ‡ Sonnenuntergang: {{ city.sunset }}</p>
            <p>ğŸ•“ Lokale Uhrzeit: {{ city.local_time }}</p>
          {% endif %}
        </article>
      {% endfor %}
    </main>
  </div>

  <!-- Darkmode-FunktionalitÃ¤t -->
  <script>
    // PrÃ¼fen, ob Darkmode zuletzt aktiv war
    if (localStorage.getItem("darkmode") === "true") {
      document.body.classList.add("darkmode"); // Darkmode aktivieren
    }

    // Darkmode toggeln und speichern
    function toggleDarkmode() {
      document.body.classList.toggle("darkmode"); // Klasse toggeln
      localStorage.setItem("darkmode", document.body.classList.contains("darkmode")); // Status speichern
    }
  </script>

  <!-- SeitenfuÃŸ mit Urhebervermerk -->
  <footer class="footer">
    Â© 2025 â€“ Wetterdaten von OpenWeatherMap â€“ Projekt von Pascal BÃ¶hm
  </footer>

</body>
</html>
